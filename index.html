
<!DOCTYPE html>
<html lang="de">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Amarante&family=Fleur+De+Leah&family=Quintessential&display=swap" rel="stylesheet">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arno Booster Challenge</title>
      <style>
        /* ============================================
           GLOBAL STYLES & RESET
        ============================================ */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Amarante", serif;
            background: radial-gradient(ellipse at center, #1a0d2e 0%, #0d0620 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

                /* Video Background */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -3;
            overflow: hidden;
        }

        .video-background video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
        }

        /* Dark overlay above video */
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: -2;
            pointer-events: none;
        }


        /* ============================================
           MAIN CONTAINER & TITLE
        ============================================ */
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        h1 {
            color: #f0e6ff;
            font-size: 5rem;
            text-align: center;
            margin-bottom: 1rem;
            text-shadow: 0 0 20px rgba(240, 230, 255, 0.5);
            letter-spacing: -2px;
        }

        .subtitle {
            color: #a78bfa;
            font-size: 1.5rem;
            text-align: center;
            margin-bottom: 5rem;
            /* font-style: italic; */
        }

        /* ============================================
           BOOSTER PACK CONTAINER
        ============================================ */
        .booster-container {
            display: flex;
            gap: 32px;
            perspective: 1000px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .booster-pack {
            width: 200px;
            height: 340px;
            /* background: linear-gradient(145deg, #2d1b69 0%, #1a0d2e 50%, #0d0620 100%); */
            /* border-radius: 15px; */
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: all 0.3s ease;
            /* border: 2px solid rgba(168, 85, 247, 0.3); */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .booster-pack::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff006e, #8338ec, #3a86ff, #06ffa5);
            border-radius: 15px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .booster-pack:hover::before {
            opacity: 0.7;
        }

        .booster-pack:hover {
            transform: translateY(-10px) rotateY(5deg);
            box-shadow: 0 20px 40px rgba(168, 85, 247, 0.4);
        }

        .booster-pack:focus {
            outline: 2px solid #a855f7;
            outline-offset: 4px;
        }

        /* Ge√∂ffnete Packs */
        .booster-pack.opened {
            opacity: 0.3;
            cursor: not-allowed;
            transform: scale(0.9);
            filter: grayscale(0.8);
        }

        .booster-pack.opened::before {
            opacity: 0;
        }

        .booster-pack.opened:hover {
            transform: scale(0.9);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* ============================================
           BOOSTER PACK IMAGES - PNG PLATZHALTER
        ============================================ */
        .booster-image {
            width: 100%;
            height: 100%;
            /* border-radius: 13px; */
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* HIER SIND DIE PNG PLATZHALTER - EINFACH AUSTAUSCHEN */
        .booster-pack[data-pack="1"] .booster-image {
            /* Pack 1 (Rot/Einzelfarben) - PNG hier austauschen */
            background-image: url('assets/packs/arnopack.png');
            /* Fallback Gradient falls PNG nicht l√§dt */
            /* background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%); */
        }

        .booster-pack[data-pack="2"] .booster-image {
            /* Pack 2 (Blau/Gilden) - PNG hier austauschen */
            background-image: url('assets/packs/arnopack.png');
            /* Fallback Gradient falls PNG nicht l√§dt */
            /* background: linear-gradient(135deg, #4834d4 0%, #686de0 100%); */
        }

        .booster-pack[data-pack="3"] .booster-image {
            /* Pack 3 (T√ºrkis/Dreifarbig) - PNG hier austauschen */
            background-image: url('assets/packs/arnopack.png');
            /* Fallback Gradient falls PNG nicht l√§dt */
            /* background: linear-gradient(135deg, #00d2d3 0%, #54a0ff 100%); */
        }

        /* Fallback Text wenn PNG nicht verf√ºgbar */
        .booster-image::before {
            content: attr(data-pack-name);
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 5px;
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
        }

        /* .booster-pack.opened .booster-image::before {
            content: 'üì¶ GE√ñFFNET';
            font-size: 0.8rem;
            opacity: 0.6;
        } */

        /* ============================================
           OPENING ANIMATION
        ============================================ */
        .booster-pack.opening {
            animation: boosterOpen 1s ease-in-out forwards;
            z-index: 1000;
        }

        @keyframes boosterOpen {
            0% {
                transform: scale(1) rotateY(0deg);
            }
            50% {
                transform: scale(1.2) rotateY(180deg);
            }
            100% {
                transform: scale(1.5) rotateY(360deg);
                opacity: 0;
            }
        }

        .booster-container.opening .booster-pack:not(.opening) {
            animation: fadeOut 0.5s ease-out forwards;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: scale(0.8);
            }
        }

        /* ============================================
           OVERLAY & CARD DISPLAY
        ============================================ */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .overlay-content {
            background: linear-gradient(145deg, #0e0334 0%, #080112 100%);
            border-radius: 20px;
            padding: 4.5rem;
            max-width: 80vw;
            max-height: 80vh;
            /* width: 80vw;
            height: 80vh; */
            overflow-y: auto;
            position: relative;
            /* border: 2px solid rgba(168, 85, 247, 0.5); */
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
        }

        .close-button {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #f0e6ff;
            font-size: 1.5rem;
            cursor: pointer;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease;
        }

        .close-button:hover {
            background-color: rgba(168, 85, 247, 0.3);
        }

        .cards-title {
            color: #f0e6ff;
            font-size: 1.8rem;
            margin-bottom: 2rem;
            text-align: center;
            text-shadow: 0 0 10px rgba(240, 230, 255, 0.5);
        }

        .cards-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            align-items: center;
        }

        .card-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 1;
            /* transform: translateY(20px); */
            /* animation: cardReveal 0.1s ease forwards; */
        }

        .card-image {
            width: 340px;
            height: 340px;
            border-radius: 10000000px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            /* border: 3px solid rgba(168, 85, 247, 0.6); */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* Fallback for when image doesn't load */
        .card-image.fallback {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 3rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
        }

        /* @keyframes cardReveal {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        } */

        /* .card-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            border: 3px solid rgba(168, 85, 247, 0.6);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            font-size: 3rem;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
        } */

        .card-name {
            color: #f0e6ff;
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Reset Button */
        .reset-button {
            margin-top: 2rem;
            padding: 12px 24px;
            background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
        }

        .reset-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.6);
        }

        .reset-button:focus {
            outline: 2px solid #a855f7;
            outline-offset: 2px;
        }

        /* ============================================
           RESPONSIVE DESIGN
        ============================================ */
        @media (max-width: 768px) {
            h1 {
                margin-top: 2rem;
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1rem;
                margin-bottom: 3rem;
            }

            .booster-pack {
                width: 160px;
                height: 280px;
            }

            .booster-container {
                gap: 15px;
            }

            .overlay-content {
                padding: 2rem;
                margin: 20px;
            }

            .cards-title {
                font-size: 1.5rem;
            }

            .card-image {
                width: 240px;
                height: 240px;
                font-size: 2.5rem;
            }

            .card-name {
                font-size: 1rem;
            }

            .reset-button {
                margin-bottom: 3rem;
                }
        }

        @media (max-width: 480px) {
            .booster-container {
                flex-direction: column;
                align-items: center;
            }

            .cards-container {
                flex-direction: column;
            }
        }

        /* ============================================
           ACCESSIBILITY
        ============================================ */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Focus states f√ºr Keyboard-Navigation */
        .close-button:focus {
            outline: 2px solid #a855f7;
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Video Background -->
    <div class="video-background">
        <video autoplay muted loop playsinline>
            <source src="videos/background-video.mp4" type="video/mp4">
            <source src="videos/background-video.webm" type="video/webm">
            <!-- Fallback for browsers that don't support video -->
        </video>
    </div>
    
    <!-- Dark overlay above video -->
    <div class="video-overlay"></div>

    <div class="container">
        <h1>Arno Booster Challenge</h1>
        <p class="subtitle">Entfessle die verborgenen Kr√§fte, die dein Schicksal bestimmen.</p>
        
        <div class="booster-container" id="boosterContainer">
            <div class="booster-pack" tabindex="0" role="button" aria-label="Einzelfarben Pack √∂ffnen" data-pack="1">
                <div class="booster-image" data-pack-name=""></div>
            </div>
            <div class="booster-pack" tabindex="0" role="button" aria-label="Gilden Pack √∂ffnen" data-pack="2">
                <div class="booster-image" data-pack-name=""></div>
            </div>
            <div class="booster-pack" tabindex="0" role="button" aria-label="Dreifarbig Pack √∂ffnen" data-pack="3">
                <div class="booster-image" data-pack-name=""></div>
            </div>
        </div>

        <button class="reset-button" id="resetButton">Alle Packs zur√ºcksetzen</button>
    </div>

    <!-- Overlay f√ºr Kartenergebnisse -->
    <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-labelledby="cards-title">
        <div class="overlay-content">
            <button class="close-button" id="closeButton" aria-label="Overlay schlie√üen">&times;</button>
            <h2 class="cards-title" id="cards-title">Deine gezogene Karte!</h2>
            <div class="cards-container" id="cardsContainer">
                <!-- Karte wird hier dynamisch eingef√ºgt -->
            </div>
        </div>
    </div>

    <script>
   
        // Pack 1: EINZELFARBEN (mit Bildern statt Symbolen)
        const SINGLE_COLOR_CARDS = [
            { 
                name: 'Plains', 
                image: 'cards/plains.png',
                symbol: '‚òÄÔ∏è', // Fallback
                gradient: 'linear-gradient(135deg, #fffbeb 0%, #fde68a 100%)' // Fallback
            },
            { 
                name: 'Island', 
                image: 'cards/island.png',
                symbol: 'üíß', 
                gradient: 'linear-gradient(135deg, #dbeafe 0%, #3b82f6 100%)' 
            },
            { 
                name: 'Swamp', 
                image: 'cards/swamp.png',
                symbol: 'üíÄ', 
                gradient: 'linear-gradient(135deg, #374151 0%, #111827 100%)' 
            },
            { 
                name: 'Mountain', 
                image: 'cards/mountain.png',
                symbol: 'üî•', 
                gradient: 'linear-gradient(135deg, #fecaca 0%, #dc2626 100%)' 
            },
            { 
                name: 'Forest', 
                image: 'cards/forest.png',
                symbol: 'üåø', 
                gradient: 'linear-gradient(135deg, #d1fae5 0%, #059669 100%)' 
            }
        ];

        // Pack 2: GILDEN (mit Bildern)
        const GUILD_CARDS = [
            { 
                name: 'Azorius (W/U)', 
                image: 'cards/azorius.png',
                symbol: '‚öñÔ∏è', 
                gradient: 'linear-gradient(135deg, #fffbeb 0%, #3b82f6 100%)' 
            },
            { 
                name: 'Dimir (U/B)', 
                image: 'cards/dimir.png',
                symbol: 'üîç', 
                gradient: 'linear-gradient(135deg, #3b82f6 0%, #111827 100%)' 
            },
            { 
                name: 'Rakdos (B/R)', 
                image: 'cards/rakdos.png',
                symbol: 'üé≠', 
                gradient: 'linear-gradient(135deg, #111827 0%, #dc2626 100%)' 
            },
            { 
                name: 'Gruul (R/G)', 
                image: 'cards/gruul.png',
                symbol: 'ü¶å', 
                gradient: 'linear-gradient(135deg, #dc2626 0%, #059669 100%)' 
            },
            { 
                name: 'Selesnya (G/W)', 
                image: 'cards/selesnya.png',
                symbol: 'üå≥', 
                gradient: 'linear-gradient(135deg, #059669 0%, #fde68a 100%)' 
            },
            { 
                name: 'Orzhov (W/B)', 
                image: 'cards/orzhov.png',
                symbol: '‚õ™', 
                gradient: 'linear-gradient(135deg, #fffbeb 0%, #374151 100%)' 
            },
            { 
                name: 'Izzet (U/R)', 
                image: 'cards/izzet.png',
                symbol: '‚ö°', 
                gradient: 'linear-gradient(135deg, #3b82f6 0%, #dc2626 100%)' 
            },
            { 
                name: 'Golgari (B/G)', 
                image: 'cards/golgari.png',
                symbol: 'üçÑ', 
                gradient: 'linear-gradient(135deg, #374151 0%, #059669 100%)' 
            },
            { 
                name: 'Boros (R/W)', 
                image: 'cards/boros.png',
                symbol: '‚öîÔ∏è', 
                gradient: 'linear-gradient(135deg, #dc2626 0%, #fde68a 100%)' 
            },
            { 
                name: 'Simic (G/U)', 
                image: 'cards/simic.png',
                symbol: 'üß¨', 
                gradient: 'linear-gradient(135deg, #059669 0%, #3b82f6 100%)' 
            }
        ];

        // Pack 3: DREIFARBIG (mit Bildern)
        const TRICOLOR_CARDS = [
            // Alara Shards
            { 
                name: 'Bant (W/U/G)', 
                image: 'cards/bant.png',
                symbol: 'ü¶Ö', 
                gradient: 'linear-gradient(135deg, #fffbeb 0%, #3b82f6 50%, #059669 100%)' 
            },
            { 
                name: 'Esper (W/U/B)', 
                image: 'cards/esper.png',
                symbol: 'üîÆ', 
                gradient: 'linear-gradient(135deg, #fffbeb 0%, #3b82f6 50%, #374151 100%)' 
            },
            { 
                name: 'Grixis (U/B/R)', 
                image: 'cards/grixis.png',
                symbol: 'üíÄ', 
                gradient: 'linear-gradient(135deg, #3b82f6 0%, #374151 50%, #dc2626 100%)' 
            },
            { 
                name: 'Jund (B/R/G)', 
                image: 'cards/jund.png',
                symbol: 'üêâ', 
                gradient: 'linear-gradient(135deg, #374151 0%, #dc2626 50%, #059669 100%)' 
            },
            { 
                name: 'Naya (R/G/W)', 
                image: 'cards/naya.png',
                symbol: 'ü¶Å', 
                gradient: 'linear-gradient(135deg, #dc2626 0%, #059669 50%, #fde68a 100%)' 
            },
            // Khans Wedges
            { 
                name: 'Abzan (W/B/G)', 
                image: 'cards/abzan.png',
                symbol: 'üè∞', 
                gradient: 'linear-gradient(135deg, #fffbeb 0%, #374151 50%, #059669 100%)' 
            },
            { 
                name: 'Jeskai (U/R/W)', 
                image: 'cards/jeskai.png',
                symbol: 'ü•ã', 
                gradient: 'linear-gradient(135deg, #3b82f6 0%, #dc2626 50%, #fde68a 100%)' 
            },
            { 
                name: 'Sultai (B/G/U)', 
                image: 'cards/sultai.png',
                symbol: 'üêç', 
                gradient: 'linear-gradient(135deg, #374151 0%, #059669 50%, #3b82f6 100%)' 
            },
            { 
                name: 'Mardu (R/W/B)', 
                image: 'cards/mardu.png',
                symbol: '‚ö∞Ô∏è', 
                gradient: 'linear-gradient(135deg, #dc2626 0%, #fde68a 50%, #374151 100%)' 
            },
            { 
                name: 'Temur (G/U/R)', 
                image: 'cards/temur.png',
                symbol: 'üêª', 
                gradient: 'linear-gradient(135deg, #059669 0%, #3b82f6 50%, #dc2626 100%)' 
            }
        ];

        // ============================================
        // GLOBALE VARIABLEN
        // ============================================
        let isAnimating = false;
        let openedPacks = new Set(); // Tracking der ge√∂ffneten Packs
        
        const overlay = document.getElementById('overlay');
        const cardsContainer = document.getElementById('cardsContainer');
        const closeButton = document.getElementById('closeButton');
        const boosterContainer = document.getElementById('boosterContainer');
        const resetButton = document.getElementById('resetButton');

        // ============================================
        // EVENT LISTENERS
        // ============================================
        document.addEventListener('DOMContentLoaded', initializeApp);

        function initializeApp() {
            // Booster Pack Event Listeners
            const boosterPacks = document.querySelectorAll('.booster-pack');
            boosterPacks.forEach((pack, index) => {
                pack.addEventListener('click', () => openBooster(index));
                pack.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        openBooster(index);
                    }
                });
            });

            // Reset Button Event Listener
            resetButton.addEventListener('click', resetAllPacks);
            resetButton.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    resetAllPacks();
                }
            });

            // Overlay Event Listeners
            closeButton.addEventListener('click', closeOverlay);
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    closeOverlay();
                }
            });

            // Keyboard Event Listeners
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && overlay.classList.contains('active')) {
                    closeOverlay();
                }
            });
        }

        // ============================================
        // HAUPTFUNKTIONEN
        // ============================================

        /**
         * √ñffnet ein Booster Pack mit Animation
         * @param {number} packIndex - Index des Booster Packs (0-2)
         */
        function openBooster(packIndex) {
            if (isAnimating) return;
            
            // Pr√ºfen ob das Pack bereits ge√∂ffnet wurde
            if (openedPacks.has(packIndex)) {
                console.log(`Pack ${packIndex + 1} wurde bereits ge√∂ffnet!`);
                return;
            }
            
            isAnimating = true;
            const packs = document.querySelectorAll('.booster-pack');
            const selectedPack = packs[packIndex];

            // Pack als ge√∂ffnet markieren
            openedPacks.add(packIndex);

            // Animation starten
            boosterContainer.classList.add('opening');
            selectedPack.classList.add('opening');
            
            // Karte basierend auf Pack-Typ ziehen
            const drawnCard = drawCardFromPack(packIndex);
            
            // Nach Animation das Overlay anzeigen
            setTimeout(() => {
                showOverlay(drawnCard, getPackTypeName(packIndex));
                resetBoosterState();
                markPackAsOpened(packIndex);
            }, 1000);
        }

        /**
         * Zieht eine Karte basierend auf dem Pack-Typ
         * @param {number} packIndex - Index des Packs (0=Einzelfarben, 1=Gilden, 2=Dreifarbig)
         * @returns {Object} Die gezogene Karte
         */
        function drawCardFromPack(packIndex) {
            let cardPool;
            
            switch(packIndex) {
                case 0: // Pack 1: Einzelfarben
                    cardPool = SINGLE_COLOR_CARDS;
                    break;
                case 1: // Pack 2: Gilden
                    cardPool = GUILD_CARDS;
                    break;
                case 2: // Pack 3: Dreifarbig
                    cardPool = TRICOLOR_CARDS;
                    break;
                default:
                    cardPool = SINGLE_COLOR_CARDS;
            }
            
            const randomIndex = Math.floor(Math.random() * cardPool.length);
            return cardPool[randomIndex];
        }

        /**
         * Gibt den Namen des Pack-Typs zur√ºck
         * @param {number} packIndex - Index des Packs
         * @returns {string} Name des Pack-Typs
         */
        function getPackTypeName(packIndex) {
            const packNames = ['Einzelfarben', 'Gilden', 'Dreifarbig'];
            return packNames[packIndex] || 'Unbekannt';
        }

        /**
         * Markiert ein Pack als ge√∂ffnet
         * @param {number} packIndex - Index des Packs
         */
        function markPackAsOpened(packIndex) {
            const packs = document.querySelectorAll('.booster-pack');
            const pack = packs[packIndex];
            pack.classList.add('opened');
            const packTypeName = getPackTypeName(packIndex);
            pack.setAttribute('aria-label', `${packTypeName} Pack bereits ge√∂ffnet`);
        }

        /**
         * Zeigt das Overlay mit der gezogenen Karte an
         * @param {Object} card - Die anzuzeigende Karte
         * @param {string} packType - Typ des ge√∂ffneten Packs
         */
        function showOverlay(card, packType) {
            // Overlay-Inhalt leeren
            cardsContainer.innerHTML = '';

            // Titel anpassen
            const title = document.getElementById('cards-title');
            title.textContent = `Aus dem ${packType} Pack: ${card.name}`;

            // Karten-Element erstellen
            const cardElement = createCardElement(card);
            cardsContainer.appendChild(cardElement);

            // Overlay anzeigen
            overlay.classList.add('active');
            
            // Focus auf Close Button f√ºr Accessibility
            closeButton.focus();
            
            isAnimating = false;
        }

        /**
         * Erstellt ein DOM-Element f√ºr eine Karte
         * @param {Object} card - Karten-Objekt
         * @returns {HTMLElement} Karten-DOM-Element
         */
     function createCardElement(card) {
            const cardItem = document.createElement('div');
            cardItem.className = 'card-item';
            
            const cardImage = document.createElement('div');
            cardImage.className = 'card-image';
            cardImage.setAttribute('aria-label', `${card.name} Bild`);

            // Versuche das Bild zu laden
            if (card.image) {
                const img = new Image();
                img.onload = function() {
                    // Bild erfolgreich geladen
                    cardImage.style.backgroundImage = `url('${card.image}')`;
                };
                img.onerror = function() {
                    // Fallback wenn Bild nicht geladen werden kann
                    console.log(`Bild f√ºr ${card.name} konnte nicht geladen werden. Verwende Fallback.`);
                    cardImage.classList.add('fallback');
                    cardImage.style.background = card.gradient;
                    cardImage.textContent = card.symbol;
                };
                img.src = card.image;
                
                // Setze das Bild sofort (optimistische Ladung)
                cardImage.style.backgroundImage = `url('${card.image}')`;
            } else {
                // Kein Bild definiert, verwende Fallback
                cardImage.classList.add('fallback');
                cardImage.style.background = card.gradient;
                cardImage.textContent = card.symbol;
            }

            const cardName = document.createElement('div');
            cardName.className = 'card-name';
            cardName.textContent = card.name;

            cardItem.appendChild(cardImage);
            cardItem.appendChild(cardName);

            return cardItem;
        }

        // function createCardElement(card) {
        //     const cardItem = document.createElement('div');
        //     cardItem.className = 'card-item';
            
        //     const cardImage = document.createElement('div');
        //     cardImage.className = 'card-image';
        //     cardImage.style.background = card.gradient;
        //     cardImage.textContent = card.symbol;
        //     cardImage.setAttribute('aria-label', `${card.name} Symbol`);

        //     const cardName = document.createElement('div');
        //     cardName.className = 'card-name';
        //     cardName.textContent = card.name;

        //     cardItem.appendChild(cardImage);
        //     cardItem.appendChild(cardName);

        //     return cardItem;
        // }

        /**
         * Schlie√üt das Overlay und kehrt zum Startzustand zur√ºck
         */
        function closeOverlay() {
            overlay.classList.remove('active');
            
            // Focus zur√ºck auf ersten nicht-ge√∂ffneten Booster Pack
            setTimeout(() => {
                const firstAvailablePack = document.querySelector('.booster-pack:not(.opened)');
                if (firstAvailablePack) {
                    firstAvailablePack.focus();
                } else {
                    resetButton.focus();
                }
            }, 300);
        }

        /**
         * Setzt den Booster-Zustand zur√ºck
         */
        function resetBoosterState() {
            boosterContainer.classList.remove('opening');
            const packs = document.querySelectorAll('.booster-pack');
            packs.forEach(pack => {
                pack.classList.remove('opening');
            });
        }

        /**
         * Setzt alle Packs zur√ºck
         */
        function resetAllPacks() {
            openedPacks.clear();
            const packs = document.querySelectorAll('.booster-pack');
            packs.forEach((pack, index) => {
                pack.classList.remove('opened', 'opening');
                const packTypeName = getPackTypeName(index);
                pack.setAttribute('aria-label', `${packTypeName} Pack √∂ffnen`);
            });
            
            // Overlay schlie√üen falls offen
            if (overlay.classList.contains('active')) {
                closeOverlay();
            }
            
            console.log('Alle Packs wurden zur√ºckgesetzt!');
        }

        // ============================================
        // DEBUGGING (kann in Produktion entfernt werden)
        // ============================================
        console.log('Magic Booster Simulator geladen!');
        console.log('Pack 1 - Einzelfarben:', SINGLE_COLOR_CARDS.length, 'Karten');
        console.log('Pack 2 - Gilden:', GUILD_CARDS.length, 'Karten');
        console.log('Pack 3 - Dreifarbig:', TRICOLOR_CARDS.length, 'Karten');
    </script>
</body>
</html>
